<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pawan Sharma - 3D Portfolio Experience</title>

  <!-- SEO -->
  <meta name="description" content="Immersive 3D portfolio showcasing Pawan Sharma's expertise in accounting, taxation, and financial automation" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;600&display=swap" rel="stylesheet" />

  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Inter',sans-serif;background:#000;color:#fff;overflow-x:hidden;cursor:default}

    /* Canvas */
    #canvas3d{position:fixed;top:0;left:0;width:100%;height:100vh;z-index:1}

    /* Scroll container for triggering scenes */
    #scroll-container{position:relative;height:500vh;z-index:2;pointer-events:none}

    /* UI Overlay */
    #ui-overlay{position:fixed;top:0;left:0;width:100%;height:100vh;z-index:10;pointer-events:none}
    #ui-overlay>*{pointer-events:auto}

    /* Loading Screen */
    #loading-screen{position:fixed;inset:0;background:#000;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1000;transition:opacity .8s ease}
    #loading-screen.hidden{opacity:0;pointer-events:none}
    .loader{width:60px;height:60px;border:3px solid rgba(57,160,255,.3);border-top:3px solid #39a0ff;border-radius:50%;animation:spin 1s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}
    #loading-text{margin-top:20px;font-family:'Orbitron',sans-serif;font-size:14px;color:#39a0ff;letter-spacing:2px}
    #loading-progress{margin-top:10px;font-size:24px;font-weight:700;color:#fff}

    /* Scene Title */
    #scene-title{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-family:'Orbitron',sans-serif;font-size:48px;font-weight:900;color:#fff;text-align:center;opacity:0;pointer-events:none;z-index:15;text-shadow:0 0 30px rgba(57,160,255,.8);transition:opacity .5s ease}
    #scene-title.visible{opacity:1}

    /* Navigation Dots */
    #nav-dots{position:fixed;right:30px;top:50%;transform:translateY(-50%);z-index:20;display:flex;flex-direction:column;gap:15px}
    .nav-dot{width:12px;height:12px;border-radius:50%;background:rgba(255,255,255,.3);cursor:pointer;transition:all .3s ease;position:relative}
    .nav-dot:hover{background:rgba(57,160,255,.6);transform:scale(1.2)}
    .nav-dot.active{background:#39a0ff;box-shadow:0 0 15px rgba(57,160,255,.8)}
    .nav-dot::after{content:attr(data-label);position:absolute;right:20px;top:50%;transform:translateY(-50%);font-size:12px;color:#fff;white-space:nowrap;opacity:0;transition:opacity .3s ease;pointer-events:none}
    .nav-dot:hover::after{opacity:1}

    /* Info Panel */
    #info-panel{position:fixed;bottom:50px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.8);backdrop-filter:blur(10px);border:1px solid rgba(57,160,255,.3);border-radius:15px;padding:20px 30px;max-width:600px;opacity:0;pointer-events:none;transition:opacity .4s ease;z-index:15}
    #info-panel.visible{opacity:1;pointer-events:auto}
    #info-panel h3{font-family:'Orbitron',sans-serif;font-size:20px;color:#39a0ff;margin-bottom:10px}
    #info-panel p{font-size:14px;color:rgba(255,255,255,.8);line-height:1.6}

    /* Scroll Hint */
    #scroll-hint{position:fixed;bottom:30px;left:50%;transform:translateX(-50%);font-size:14px;color:rgba(255,255,255,.6);display:flex;flex-direction:column;align-items:center;gap:10px;animation:bounce 2s infinite;z-index:15}
    @keyframes bounce{0%,20%,50%,80%,100%{transform:translateX(-50%) translateY(0)}40%{transform:translateX(-50%) translateY(-10px)}60%{transform:translateX(-50%) translateY(-5px)}}
    #scroll-hint .arrow{font-size:24px}

    /* Mobile */
    @media (max-width:768px){
      #scene-title{font-size:32px}
      #nav-dots{right:15px;gap:10px}
      .nav-dot{width:10px;height:10px}
      #info-panel{bottom:30px;max-width:calc(100% - 40px);padding:15px 20px}
      #info-panel h3{font-size:16px}
      #info-panel p{font-size:12px}
    }
  </style>
</head>
<body>
  <!-- Loading Screen -->
  <div id="loading-screen">
    <div class="loader"></div>
    <div id="loading-text">LOADING EXPERIENCE</div>
    <div id="loading-progress">0%</div>
  </div>

  <!-- 3D Canvas -->
  <canvas id="canvas3d"></canvas>

  <!-- Scroll Container -->
  <div id="scroll-container"></div>

  <!-- UI Overlay -->
  <div id="ui-overlay">
    <div id="scene-title"></div>
    <div id="nav-dots">
      <div class="nav-dot active" data-scene="0" data-label="Welcome"></div>
      <div class="nav-dot" data-scene="1" data-label="Skills"></div>
      <div class="nav-dot" data-scene="2" data-label="Projects"></div>
      <div class="nav-dot" data-scene="3" data-label="Experience"></div>
      <div class="nav-dot" data-scene="4" data-label="Contact"></div>
    </div>
    <div id="info-panel">
      <h3 id="info-title">Title</h3>
      <p id="info-text">Description</p>
    </div>
    <div id="scroll-hint">
      <span>Scroll to explore</span>
      <span class="arrow">â†“</span>
    </div>
  </div>

  <!-- Three.js (primary) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r160/three.min.js" defer></script>
  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" defer></script>

  <!-- Your main script (correct path) -->
  <script src="js/main.js" defer></script>

  <!-- Safety bootstrap: if Three failed to load from CDN, fetch fallback then start -->
  <script>
    (function(){
      function ensureThreeLoaded(cb){
        if (window.THREE) return cb();
        var s=document.createElement('script');
        s.src="https://unpkg.com/three@0.160.0/build/three.min.js";
        s.onload=cb;
        s.onerror=function(){console.error("Failed to load THREE fallback"); cb();};
        document.head.appendChild(s);
      }
      // If your main.js already initializes itself, this is harmless.
      // If not, you could start it here (uncomment if needed):
      // ensureThreeLoaded(function(){ if(window.initExperience3D) window.initExperience3D(); });
      ensureThreeLoaded(function(){ /* no-op; your main.js bootstraps itself */ });
    })();
  </script>
</body>
</html>
